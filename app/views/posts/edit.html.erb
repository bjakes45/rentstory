<div class='container'>
  <div class='row text-center'>
    <div class='col-sm-offset-2 col-sm-8 col-sm-offset-2'>
      <div class='card'>
<%= form_for @post do |form| %>
	  
	  <label>Topic</label>
	  <%= form.select :topic, @topics.collect { |t| [ t.name, t.id.to_i ] }, {}, :class => 'form-control' %>
	  <label >Title</label>
	  <%= form.text_field :title, class: 'form-control', required: true %>
	  
	  <label>Post</label>
	  <%= form.text_area :body, style: 'width:100%; height:150px;', class: 'form-control', required: true %>
	  
	  <br/>
	  <button onclick="toggleOptions()" type="button" class='btn btn-dark'>Optional Inputs</button>
	  <br/><br/>
	  <div id='optional' class='form-group'>
	  	<h6 class='text-muted'>Note: Only share the following information if it has no potential to compromise your identity.</h6> 
		<label >Building Number</label>
		<%= form.number_field :address, class: 'form-control' %>
		<label >Street</label>
		<%= form.text_field :street, class: 'form-control' %>

	  	<h6 class='text-muted'>WARNING: Landlords may retaliate against tenants if a story provokes anger.</h6>
	  	<label >Landlord Name</label>
	  	<%= form.text_field :landlord, class: 'form-control' %>
	  	<h6 class='text-muted'>Use caution if you are providing any identifying information.</h6>
	  </div>
	  <% if user_signed_in? %>
	  	<div class='row'>
		  	<div class='col-sm-7'>
		  		<label class="checkbox">Publish Story?</label>
		  	</div>
		  	<div class='col-sm-5'>
	  			<%= form.check_box :publish, class: 'form-control' %>
		  	</div>
	  	</div>
	  	<h6 class='text-muted'>Unpublished Stories will be saved as drafts in your profile.</h6>
	  <% end %>
	  
	  <%= form.submit 'Save your story', :class => 'btn btn-dark form-control' %>
	<% end %>
	<br/>
        <%= link_to "Back", :back, class: "btn btn-dark" %>

	  </div>
	</div>
</div>
</div>


	<script type="text/javascript">
function toggleOptions() {
  var x = document.getElementById("optional");
  if (x.style.display == "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>